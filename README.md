# dtl-tradebot

# Описание

Алгоритмический торговый бот на фондовой бирже при помощи Tinkoff API.
Торговый бот в данный момент работает в бета режиме.
В реализации дополнительно используются:
- Sqlalchemy
- Aiogram

# Основные возможности.

- Симулятора реальной торговли на бирже, который позволяет одновременно для одной ценной бумаги тестировать различные торговые стратегии с целью дальнейшего выявления наиболее прибыльной торговой системы при помощи анализа данных сформированных в БД.
    - Симулятор торговли умеет самостоятельно входить в сделку и выходить из нее.
    - В БД фиксируются множество данных для дальнейшей обработки и анализа. К примеру: причина входа в сделку; время входа и выхода из сделки; фиксация прибыли или убытка и т.п.
- Телеграм чат бот, который отправляет в группу сообщения о том, что в скором времени по определенной бумаге и при достижения определенной цены будет возможность войти в сделку с потенциалом заработка.
- Телеграм бот, который взаимодействует с настройками торгового бота. В частности реализована возможность отправки параметров торговли для списка ценных бумаг. Последний в свою очередь парсит инструкции и загружает их в БД для последующей работы с данными в течении основной торговой сессии на фондовой бирже.
- Торговый бот, который раз в пять минут получает при помощи Tinkoff API необходимые котировочные данные по ценным бумагам. Далее при помощи описанных заранее в коде различных стратегий поведения цены бот способен выдавать сигналы на покупку для симулятора торговли, а также отправки сообщений о рекомендации входа в сделку в телеграм чат.

# Важные файлы

1. [Файл подключения Tinkoff API](https://github.com/Skreaper777/dtl-tradebot/blob/master/bot_trading/traiding_bot.py), плюс реализация получения котировок ценных бумаг в реальном времени с дальнейшей отправки данных в блоки 1) запуска стратегий отслеживания котировок 2) симулятор торговли.
2. [Симулятор торговли](https://github.com/Skreaper777/dtl-tradebot/blob/master/bot_trading/lib/trading/trading_main.py) ценными бумагами.
3. [Функционал стратегий](https://github.com/Skreaper777/dtl-tradebot/blob/master/bot_trading/lib/strategies/main_strategies.py) для отслеживания предпочтительного сигнала на сделку с дальнейшей отправкой сигнала в телеграм и в симултятор торговли ценными бумагами.
4. [Вспомогательные классы](https://github.com/Skreaper777/dtl-tradebot/blob/master/bot_trading/lib/utilities/main_utilities.py)
5. [Парсер текстового сообщения](https://github.com/Skreaper777/dtl-tradebot/blob/master/bot_telegram/lib/telegram_bot_scripts.py) (предварительно отправляется в чат бот телеграмм), которое в дальнейшем вносится в БД в виде данных "Название ценной бумаги | Дата | Уровень цены для наблюдения 1 | Уровень цены для наблюдения 2 | Уровень цены для наблюдения 3 | Уровень цены для наблюдения 4 | Уровень цены для наблюдения 5.
6. [Диалоги для взаимодействия](https://github.com/Skreaper777/dtl-tradebot/blob/master/bot_telegram/handlers/routers.py) с чат ботом телеграм
